(*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*)
(*Local constants*)
VAR CONSTANT
	WAIT : USINT := 0; (*Function step: Wait for starting the Function chain*)
	CREATE_NODE_ID_LIST : USINT := 1; (*Function step: Create a list of Node-IDs from all active USB devices*)
	READ_DEVICE_DATA : USINT := 2; (*Function step: Read out the specific data from the Node-IDs*)
	CHECK_DEVICE : USINT := 3; (*Function step: Check file device data*)
	LINK_DEVICE : USINT := 4; (*Function step: Link file device*)
	UNLINK_DEVICE : USINT := 5; (*Function step: Unlink the File Device from specific path*)
	ERROR_CASE : USINT := 6; (*Function step: Jump to this step in every case of Error occuring in the Function chain*)
END_VAR
(*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*)
(*Local functions*)
VAR
	TON_10ms_01 : TON_10ms;
	UsbNodeListGet_0 : UsbNodeListGet; (*Type of FUB UsbNodeListGet*)
	UsbNodeGet_0 : UsbNodeGet; (*Type of FUB UsbNodeGet*)
	DevLink_0 : DevLink; (*Type of FUB DevLink*)
	DevUnlink_0 : DevUnlink; (*Type of FUB DevUnlink*)
END_VAR
(*----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------*)
(*Local variables*)
VAR
	device_param : STRING[80]; (*Connection path of USB device*)
	usb_data : ARRAY[0..4] OF usbNode_typ; (*Data of all available USB devices*)
	usb_data_linked : usbNode_typ; (*Data of the linked device*)
	node_id_buffer : ARRAY[0..4] OF UDINT; (*Different nodeIDs saved in array-elements*)
	node : USINT; (*Node number*)
	idx : USINT;
END_VAR
